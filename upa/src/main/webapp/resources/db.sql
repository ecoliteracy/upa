DROP TABLE IF EXISTS upa.upa_hand_scan_record;
DROP TABLE IF EXISTS upa.upa_hand_scan;

CREATE TABLE upa.upa_hand_scan (
  HEADER_ID INT(10) NOT NULL AUTO_INCREMENT primary key,
  TERM_TYPE VARCHAR(3) NOT NULL,
  FIRST_DATE DATE NOT NULL,
  LAST_DATE DATE NOT NULL,
  TOTAL_HOUR INT NULL,
  REMAINING_HOUR INT NULL,
  TZ_CODE VARCHAR(3) NOT NULL,
  CREATED_DATE DATETIME NOT NULL,
  LAST_MODIFIED_DATE DATETIME NOT NULL)
  ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE upa.upa_hand_scan_record (
  HEADER_ID INT(10) NOT NULL,
  RECORD_ID INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  SCAN_DATE DATE NOT NULL,
  SCAN_IN_TIME TIME NULL,
  SCAN_OUT_TIME TIME NULL,
  PARTICIPATION_TIME TIME NULL,
  TZ_CODE VARCHAR(3) NOT NULL,
  CREATED_DATE DATETIME NOT NULL,
  LAST_MODIFIED_DATE DATETIME NOT NULL,
  PRIMARY KEY (RECORD_ID) USING BTREE,
  FOREIGN KEY (HEADER_ID) REFERENCES upa.upa_hand_scan(HEADER_ID))
  ENGINE=InnoDB DEFAULT CHARSET=utf8;
